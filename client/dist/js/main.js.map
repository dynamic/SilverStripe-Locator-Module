{"version":3,"sources":["webpack:///./client/src/js/actions/mapActions.js","webpack:///./client/src/js/components/Locator.jsx","webpack:///./client/src/js/queries/locatorSettings.js","webpack:///./client/src/js/reducers/index.js","webpack:///./client/src/js/actions/locationActions.js","webpack:///./client/src/js/actions/searchActions.js","webpack:///./client/src/js/boot/index.jsx","webpack:///./client/src/js/actions/ActionTypes.js","webpack:///./client/src/js/components/list/List.jsx","webpack:///./client/src/js/components/list/Location.jsx","webpack:///./client/src/js/components/map/Map.jsx","webpack:///./client/src/js/components/map/MapContainer.jsx","webpack:///./client/src/js/components/search/CategoryDropDown.jsx","webpack:///./client/src/js/components/search/RadiusDropDown.jsx","webpack:///./client/src/js/components/search/SearchBar.jsx","webpack:///./client/src/js/reducers/locationReducer.js","webpack:///./client/src/js/reducers/mapReducer.js","webpack:///./client/src/js/reducers/searchReducer.js","webpack:///./client/src/js/reducers/settingsReducer.js"],"names":["openMarker","highlightLocation","closeMarker","target","type","MARKER_CLICK","payload","key","MARKER_CLOSE","Locator","dispatch","props","loadedSettings","propTypes","bool","isRequired","func","mapStateToProps","state","settings","reducers","client","reducer","search","map","locations","fetchLocations","loc","window","location","FETCH_LOCATIONS","get","protocol","host","pathname","inputs","SEARCH","container","document","querySelector","networkInterface","uri","dataset","apiUrl","opts","credentials","reduxRootSelector","composedMiddleware","middleware","promiseTypeSuffixes","__REDUX_DEVTOOLS_EXTENSION__","f","store","render","query","variables","id","locatorId","ActionTypes","QUERY_RESULT","FETCH_LOCATIONS_LOADING","FETCH_LOCATIONS_SUCCESS","FETCH_LOCATIONS_ERROR","List","handleLocationClick","bind","current","unit","template","undefined","index","ID","renderLocations","Component","array","number","string","defaultProps","address","listTemplate","Location","distance","parseFloat","toFixed","daddr","Address","Address2","City","State","PostalCode","cleanAddress","replace","onClick","htmlToReactParser","Distance","getDistance","DirectionsLink","getDaddr","Unit","Number","className","parse","shape","Title","Website","Phone","Email","markers","marker","position","defaultAnimation","onMarkerClick","showCurrent","onMarkerClose","infoContent","Map","lat","lng","clusters","MapContainer","handleMarkerClick","handleMarkerClose","i","length","Lat","Lng","height","getMarkers","infoWindowTemplate","CategoryDropDown","categories","Object","keys","category","indexOf","defaultValue","mappedCategories","oneOfType","object","RadiusDropDown","radii","radius","values","mappedRadii","SearchBar","handleSubmit","obj","vars","forEach","value","event","preventDefault","addressInput","getElementsByName","radiusInput","categoryInput","params","newurl","objToUrl","history","pushState","path","defaultState","action","data","assign","href","result","locatorSettings","constructor","Array","Clusters","limit","Limit","JSON","Radii","Categories","compile","InfoWindowTemplate","ListTemplate"],"mappings":"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","file":"js/main.js","sourcesContent":["import ActionType from 'actions/ActionTypes';\n\nexport function openMarker(target) {\n  return {\n    type: ActionType.MARKER_CLICK,\n    payload: {\n      key: target,\n    },\n  };\n}\n\nexport function highlightLocation(target) {\n  return {\n    type: ActionType.MARKER_CLICK,\n    payload: target,\n  };\n}\n\nexport function closeMarker(target) {\n  return {\n    type: ActionType.MARKER_CLOSE,\n    payload: target,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/mapActions.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { fetchLocations } from 'actions/locationActions';\n\nimport Search from 'components/search/SearchBar';\nimport MapContainer from 'components/map/MapContainer';\nimport List from 'components/list/List';\n\n/**\n * The main locator component.\n */\nclass Locator extends Component {\n  /**\n   * Called before the component mounts\n   */\n  componentWillMount() {\n    const { dispatch } = this.props;\n    dispatch(fetchLocations());\n  }\n\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    const { loadedSettings } = this.props;\n    if (loadedSettings === false) {\n      return <div />;\n    }\n    return (\n      <div>\n        <Search />\n        <div id=\"map-area\">\n          <MapContainer />\n          <List />\n        </div>\n      </div>\n    );\n  }\n}\n\n/**\n * The prop types of the Locator component\n * @type {{data}}\n */\nLocator.propTypes = {\n  loadedSettings: PropTypes.bool.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\n/**\n * Takes variables/functions from the state and assigns them to variables/functions in the components props.\n *\n * @param state\n * @returns {{loadedSettings}}\n */\nfunction mapStateToProps(state) {\n  return {\n    loadedSettings: state.settings.loadedSettings,\n  };\n}\n\n/**\n * The default export of the file.\n *\n * The component is connected to the redux state\n *\n * Whenever the state is changed the props change.\n */\nexport default connect(mapStateToProps)(Locator);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Locator.jsx","import gql from 'graphql-tag';\n\n/**\n * The query for getting the locator settings\n */\nexport default gql`\n  query ($id: Int!){\n    locatorSettings (ID: $id){\n      Limit,\n      Radii,\n      Unit,\n      Clusters,\n      Categories,\n      InfoWindowTemplate,\n      ListTemplate\n    }\n  }\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/queries/locatorSettings.js","import {\n  combineReducers,\n} from 'redux';\n\nimport searchReducer from 'reducers/searchReducer';\nimport mapReducer from 'reducers/mapReducer';\nimport settingsReducer from 'reducers/settingsReducer';\nimport locationReducer from 'reducers/locationReducer';\n\nexport default function reducers(client) {\n  return combineReducers({\n    client: client.reducer(),\n    search: searchReducer,\n    map: mapReducer,\n    settings: settingsReducer,\n    locations: locationReducer,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/index.js","/* global window */\nimport axios from 'axios';\n\nimport ActionType from 'actions/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function fetchLocations() {\n  const loc = window.location;\n  return (dispatch) => {\n    dispatch({\n      type: ActionType.FETCH_LOCATIONS,\n      payload: axios.get(\n        `${loc.protocol}//${loc.host}${loc.pathname}json`,\n      ),\n    });\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/locationActions.js","import ActionType from 'actions/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function search(inputs) {\n  return {\n    type: ActionType.SEARCH,\n    payload: inputs,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/searchActions.js","/* global window, document */\nimport React from 'react';\nimport ReactDom from 'react-dom';\n\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport thunk from 'redux-thunk';\nimport promise from 'redux-promise-middleware';\n\nimport ApolloClient, { createNetworkInterface } from 'apollo-client';\nimport { ApolloProvider } from 'react-apollo';\n\nimport allReducers from 'reducers';\nimport Locator from 'components/Locator';\nimport locatorSettings from 'queries/locatorSettings';\n\n// only the first container is used, can change to querySelectorAll() for multiple instances\nconst container = document.querySelector('.locator');\n\n// creates the apollo client used to run graphql queries\nconst client = new ApolloClient({\n  networkInterface: createNetworkInterface({\n    uri: container.dataset.apiUrl,\n    opts: {\n      credentials: 'same-origin',\n    },\n  }),\n  // changes the name of where the client stores information in the state\n  reduxRootSelector: state => state.client,\n});\n\n/**\n * Writes deeply nested function transformations without the rightward drift of the code.\n * [redux compose]{@link http://redux.js.org/docs/api/compose.html}\n * @returns {Function}\n */\nfunction composedMiddleware() {\n  return compose(\n    applyMiddleware(client.middleware(), promise({\n      // new suffixes\n      promiseTypeSuffixes: ['LOADING', 'SUCCESS', 'ERROR'],\n    }), thunk),\n    // eslint-disable-next-line no-underscore-dangle\n    (typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined') ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n  );\n}\n\n// creates the redux store with reducers and middleware\nconst store = createStore(allReducers(client), composedMiddleware());\n\n// renders the locator, wrapped in an apollo provider so graphql can run queries\nReactDom.render(\n  <ApolloProvider store={store} client={client}>\n    <Locator />\n  </ApolloProvider>\n  , container);\n\n// query for settings\nclient.query({\n  query: locatorSettings,\n  variables: {\n    id: container.dataset.locatorId,\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/boot/index.jsx","/**\n * List of action types.\n * Could just be strings, but I feel better when referencing a constant that doesn't change without erroring.\n */\nconst ActionTypes = {\n  // Query actions\n  QUERY_RESULT: 'APOLLO_QUERY_RESULT',\n\n  // location fetching\n  FETCH_LOCATIONS: 'FETCH_LOCATIONS',\n  FETCH_LOCATIONS_LOADING: \"FETCH_LOCATIONS_LOADING\",\n  FETCH_LOCATIONS_SUCCESS: \"FETCH_LOCATIONS_SUCCESS\",\n  FETCH_LOCATIONS_ERROR: \"FETCH_LOCATIONS_ERROR\",\n\n  // Search action\n  SEARCH: 'SEARCH',\n\n  // Marker actions\n  MARKER_CLICK: 'MARKER_CLICK',\n  MARKER_CLOSE: 'MARKER_CLOSE',\n};\n\nexport default ActionTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/ActionTypes.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { openMarker } from 'actions/mapActions';\nimport Location from 'components/list/Location';\n\n/**\n * The List component.\n * Renders the location list.\n */\nclass List extends React.Component {\n  /**\n   * Used to create the Map.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    this.handleLocationClick = this.handleLocationClick.bind(this);\n  }\n\n  handleLocationClick(target) {\n    this.props.dispatch(openMarker(target));\n  }\n\n  /**\n   * Renders the locations\n   * @returns {*}\n   */\n  renderLocations() {\n    const { current, search, unit, template, locations } = this.props;\n    if (locations !== undefined) {\n      return locations.map((location, index) =>\n        (\n          <Location\n            key={location.ID}\n            index={index}\n            location={location}\n            current={current === location.ID}\n            search={search}\n            unit={unit}\n            onClick={this.handleLocationClick}\n            template={template}\n          />\n        ),\n      );\n    }\n    return (<li>\n      No locations\n    </li>);\n  }\n\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    return (\n      <div className=\"loc-list\">\n        <ul>\n          {this.renderLocations()}\n        </ul>\n      </div>\n    );\n  }\n}\n\n/**\n * Defines the prop types\n * @type {{locations: *}}\n */\nList.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  locations: PropTypes.array,\n  current: PropTypes.number,\n  search: PropTypes.string,\n  unit: PropTypes.string.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  template: PropTypes.func.isRequired,\n};\n\n/**\n * Defines the default values of the props\n * @type {{locations: {edges: Array}}}\n */\nList.defaultProps = {\n  locations: [],\n  current: -1,\n  search: '',\n};\n\n/**\n * Maps that state to props\n * @param state\n * @returns {{current}}\n */\nfunction mapStateToProps(state) {\n  return {\n    current: state.map.current,\n    search: state.search.address,\n    unit: state.settings.unit,\n    template: state.settings.listTemplate,\n    locations: state.locations.locations,\n  };\n}\n\n\n/**\n * export the Map Component\n */\nexport default connect(mapStateToProps)(List);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/list/List.jsx","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Parser as HtmlToReactParser } from 'html-to-react';\n\n/**\n * The Location component.\n * Used in the location list.\n */\nclass Location extends Component {\n  shouldComponentUpdate() {\n    // TODO\n    return false;\n  }\n\n  /**\n   * Rounds the distance\n   * @returns Number|Boolean\n   */\n  getDistance() {\n    const { location, search } = this.props;\n    let distance = location.distance;\n    distance = parseFloat(distance);\n\n    if (distance === 0 && !search) {\n      return false;\n    }\n\n    return distance.toFixed(2);\n  }\n\n  /**\n   * Gets the daddr string for google maps directions\n   * @returns {string}\n   */\n  getDaddr() {\n    const { location } = this.props;\n    let daddr = '';\n\n    if (location.Address) {\n      daddr += `${location.Address}+`;\n    }\n\n    if (location.Address2) {\n      daddr += `${location.Address2}+`;\n    }\n\n    if (location.City) {\n      daddr += `${location.City}+`;\n    }\n\n    if (location.State) {\n      daddr += `${location.State}+`;\n    }\n\n    if (location.PostalCode) {\n      daddr += location.PostalCode;\n    }\n\n    return this.cleanAddress(daddr);\n  }\n\n  /**\n   * Replaces any trailing '+' and whitespace and any spaces left with '+'\n   *\n   * @param address\n   * @returns String\n   */\n  cleanAddress(address) {\n    return address.replace(/([+\\s]+$)/g, '').replace(/(\\s)/g, '+');\n  }\n\n  /**\n   * renders the component\n   * @returns {XML}\n   */\n  render() {\n    const { location, index, current, search, template, unit, onClick } = this.props;\n    const htmlToReactParser = new HtmlToReactParser();\n\n    const loc = {\n      ...location,\n      Distance: this.getDistance(),\n      DirectionsLink: `http://maps.google.com/maps?saddr=${this.cleanAddress(search)}&daddr=${this.getDaddr()}`,\n      Unit: unit,\n      Number: index + 1,\n    };\n\n    let className = 'list-location';\n    if (current) {\n      className += ' focus';\n    }\n    return (\n      // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions\n      <li data-markerid={index} className={className} onClick={() => onClick(location.ID)}>\n        {htmlToReactParser.parse(template(loc))}\n      </li>\n    );\n  }\n}\n\n/**\n * defines the prop types\n * @type {{location, index: *}}\n */\nLocation.propTypes = {\n  location: PropTypes.shape({\n    Title: PropTypes.string,\n    Address: PropTypes.string,\n    Address2: PropTypes.string,\n    City: PropTypes.string,\n    State: PropTypes.string,\n    PostalCode: PropTypes.string,\n    Website: PropTypes.string,\n    Phone: PropTypes.string,\n    Email: PropTypes.string,\n    Distance: PropTypes.number,\n  }).isRequired,\n  index: PropTypes.number.isRequired,\n  current: PropTypes.bool.isRequired,\n  search: PropTypes.string.isRequired,\n  unit: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  template: PropTypes.func.isRequired,\n};\n\n/**\n * Exports the Location components\n */\nexport default Location;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/list/Location.jsx","import React from 'react';\nimport { withGoogleMap, GoogleMap, Marker, InfoWindow } from 'react-google-maps';\nimport MarkerClusterer from \"react-google-maps/lib/addons/MarkerClusterer\";\n\nconst markers = (props) => {\n  return props.markers.map(marker => (\n    <Marker\n      key={marker.key}\n      position={marker.position}\n      defaultAnimation={marker.defaultAnimation}\n      onClick={() => props.onMarkerClick(marker)}\n    >\n      {props.current === marker.key && props.showCurrent && (\n        <InfoWindow onCloseClick={() => props.onMarkerClose(marker)}>\n          <div>{marker.infoContent}</div>\n        </InfoWindow>\n      )}\n    </Marker>\n  ));\n};\n\nconst Map = withGoogleMap(props => (\n  <GoogleMap\n    defaultZoom={9}\n    defaultCenter={{ lat: 43.8483258, lng: -87.7709294 }}\n\n  >\n    {props.clusters === 'true' ? <MarkerClusterer\n        averageCenter\n        enableRetinaIcons\n        gridSize={60}\n      >\n        {markers(props)}\n      </MarkerClusterer> :\n      markers(props)}\n  </GoogleMap>\n));\n\nexport default Map;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/Map.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Parser as HtmlToReactParser } from 'html-to-react';\n\nimport { highlightLocation, closeMarker } from 'actions/mapActions';\nimport Map from 'components/map/Map';\n\n/**\n * The MapArea component.\n * Renders the map.\n */\nclass MapContainer extends React.Component {\n  /**\n   * Used to create the Map.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    this.handleMarkerClick = this.handleMarkerClick.bind(this);\n    this.handleMarkerClose = this.handleMarkerClose.bind(this);\n  }\n\n  /**\n   * Generates an array of marker objects to use on the map\n   */\n  getMarkers() {\n    const { locations } = this.props;\n    const markers = [];\n\n    const htmlToReactParser = new HtmlToReactParser();\n\n    let i;\n    // eslint-disable-next-line no-plusplus\n    for (i = 0; i < locations.length; i++) {\n      const loc = locations[i];\n      markers[markers.length] = {\n        position: {\n          lat: Number(loc.Lat),\n          lng: Number(loc.Lng),\n        },\n        key: loc.ID,\n        defaultAnimation: 2,\n        infoContent: (\n          <div>\n            {htmlToReactParser.parse(this.props.template(loc))}\n          </div>\n        ),\n      };\n    }\n    return markers;\n  }\n\n  /**\n   * Fires and event for clicking a marker\n   * @param target The marker that was clicked\n   */\n  handleMarkerClick(target) {\n    this.props.dispatch(highlightLocation(target));\n  }\n\n  /**\n   * Fires event for closing a marker info box\n   * @param target The marker that had its info box closed\n   */\n  handleMarkerClose(target) {\n    this.props.dispatch(closeMarker(target));\n  }\n\n  render() {\n    const { current, showCurrent, clusters } = this.props;\n    return (\n      <div id=\"map-container\">\n        <Map\n          containerElement={\n            <div className=\"map\" />\n          }\n          mapElement={\n            <div style={{ height: '100%' }} />\n          }\n          markers={this.getMarkers()}\n          onMarkerClick={this.handleMarkerClick}\n          onMarkerClose={this.handleMarkerClose}\n          current={current}\n          showCurrent={showCurrent}\n          clusters={clusters}\n        />\n      </div>\n    );\n  }\n}\n\n/**\n * Defines the prop types\n * @type {{locations: *}}\n */\nMapContainer.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  locations: PropTypes.array,\n  dispatch: PropTypes.func.isRequired,\n  current: PropTypes.number.isRequired,\n  showCurrent: PropTypes.bool.isRequired,\n  clusters: PropTypes.string.isRequired,\n  template: PropTypes.func.isRequired,\n};\n\n/**\n * Defines the default values of the props\n * @type {{locations: {edges: Array}}}\n */\nMapContainer.defaultProps = {\n  locations: [],\n};\n\n/**\n * Maps that state to props\n * @param state\n * @returns {{current}}\n */\nfunction mapStateToProps(state) {\n  return {\n    current: state.map.current,\n    showCurrent: state.map.showCurrent,\n    clusters: state.settings.clusters,\n    template: state.settings.infoWindowTemplate,\n    locations: state.locations.locations,\n  };\n}\n\nexport default connect(mapStateToProps)(MapContainer);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/MapContainer.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass CategoryDropDown extends React.Component {\n  /**\n   * Maps the radii into options for the drop down.\n   * @returns {Array}\n   */\n  mappedCategories() {\n    const { categories } = this.props;\n\n    return Object.keys(categories).map(key => (\n      <option\n        value={key}\n        key={key}\n      >\n        {categories[key]}\n      </option>\n    ));\n  }\n\n  /**\n   * Gets the default value for the dropdown\n   * @return {*}\n   */\n  defaultValue() {\n    const { category, categories } = this.props;\n\n    // if the category exists in the dropdown\n    if (Object.keys(categories).indexOf(category) > -1) {\n      return category;\n    }\n    return '';\n  }\n\n  /**\n   * Outputs the radius drop down.\n   * @returns {*}\n   */\n  render() {\n    const { categories } = this.props;\n    if (categories !== undefined && Object.keys(categories).length !== 0) {\n      return (\n        <div className=\"field dropdown form-group--no-label\">\n          <div className=\"middleColumn\">\n            <select\n              name=\"category\"\n              className=\"dropdown form-group--no-label\"\n              defaultValue={this.defaultValue()}\n            >\n              <option value=\"\">category</option>\n              {this.mappedCategories()}\n            </select>\n          </div>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nCategoryDropDown.propTypes = {\n  category: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  categories: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n};\n\nexport default CategoryDropDown;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/CategoryDropDown.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass RadiusDropDown extends React.Component {\n  /**\n   * Maps the radii into options for the drop down.\n   * @returns {Array}\n   */\n  mappedRadii() {\n    const { radii } = this.props;\n\n    return Object.keys(radii).map(key => (\n      <option\n        value={radii[key]}\n        key={key}\n      >\n        {radii[key]}\n      </option>\n    ));\n  }\n\n  /**\n   * Gets the default value for the dropdown\n   * @return {*}\n   */\n  defaultValue() {\n    const {radius, radii} = this.props;\n\n    // if the radius exists in the dropdown\n    if (Object.values(radii).indexOf(radius) > -1) {\n      return radius;\n    }\n    return '';\n  }\n\n  /**\n   * Outputs the radius drop down.\n   * @returns {*}\n   */\n  render() {\n    const { radii } = this.props;\n    if (radii !== undefined && Object.keys(radii).length !== 0) {\n      return (\n        <div className=\"field dropdown form-group--no-label\">\n\n          <div className=\"middleColumn\">\n            <select\n              name=\"radius\"\n              className=\"dropdown form-group--no-label\"\n              defaultValue={this.defaultValue()}\n            >\n              <option value=\"\">radius</option>\n              {this.mappedRadii()}\n            </select>\n          </div>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nRadiusDropDown.propTypes = {\n  radius: PropTypes.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  radii: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n};\n\nexport default RadiusDropDown;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/RadiusDropDown.jsx","/* global window, document */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { search } from 'actions/searchActions';\nimport RadiusDropDown from 'components/search/RadiusDropDown';\nimport CategoryDropDown from 'components/search/CategoryDropDown';\n\nclass SearchBar extends React.Component {\n  /**\n   * Used to create the SearchBar.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  /**\n   * Turns a javascript object into url params\n   * @param obj\n   * @return {string}\n   */\n  objToUrl(obj) {\n    let vars = '';\n\n    Object.keys(obj).forEach((key) => {\n      const value = obj[key];\n\n      // dont add it if its blank\n      if (value !== undefined && value !== '') {\n        vars += `${key}=${value}&`;\n      }\n    });\n\n    // replaces trailing spaces and '&' symbols then replaces spaces with +\n    return vars.replace(/([&\\s]+$)/g, '').replace(/(\\s)/g, '+');\n  }\n\n  /**\n   * 'Submits' form. Really just fires state change and changes the url.\n   */\n  handleSubmit(event) {\n    event.preventDefault();\n    const addressInput = document.getElementsByName('address')[0].value;\n    const radiusInput = document.getElementsByName('radius')[0].value;\n\n    // because categories are optional\n    let categoryInput = '';\n    if (document.getElementsByName('category')[0] !== undefined) {\n      categoryInput = document.getElementsByName('category')[0].value;\n    }\n\n    const params = {\n      address: addressInput,\n      radius: radiusInput,\n      category: categoryInput,\n    };\n\n    this.props.dispatch(\n      search(params),\n    );\n\n\n    const loc = window.location;\n    const newurl = `${loc.protocol}//${loc.host}${loc.pathname}?${this.objToUrl(params)}`;\n    window.history.pushState({\n      path: newurl,\n    }, '', newurl);\n  }\n\n  /**\n   * Renders the component.\n   * @returns {XML}\n   */\n  render() {\n    const { address, radius, category, radii, categories } = this.props;\n    return (\n      <form action=\"\" onSubmit={this.handleSubmit}>\n        <fieldset>\n          <div className=\"field text form-group--no-label\">\n            <div className=\"middleColumn\">\n              <input\n                type=\"text\"\n                name=\"address\"\n                className=\"text form-group--no-label\"\n                aria-required=\"true\"\n                placeholder=\"address or zip code\"\n                defaultValue={address}\n              />\n            </div>\n          </div>\n          <RadiusDropDown radii={radii} radius={radius} />\n          <CategoryDropDown categories={categories} category={category} />\n        </fieldset>\n\n        <div className=\"btn-toolbar\">\n          <input\n            type=\"submit\"\n            value=\"Search\"\n            className=\"action\"\n          />\n        </div>\n        <div className=\"clear\" />\n      </form>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  address: PropTypes.string.isRequired,\n  radius: PropTypes.string.isRequired,\n  category: PropTypes.string.isRequired,\n\n  // eslint-disable-next-line react/forbid-prop-types\n  radii: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  categories: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\n/**\n * Takes variables/functions from the state and assigns them to variables/functions in the components props.\n *\n * @param state\n * @returns {{address, radius}}\n */\nfunction mapStateToProps(state) {\n  return {\n    // the defaults\n    address: state.search.address,\n    radius: state.search.radius,\n    category: state.search.category,\n\n    // the options\n    radii: state.settings.radii,\n    categories: state.settings.categories,\n  };\n}\n\nexport default connect(mapStateToProps)(SearchBar);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/SearchBar.jsx","import ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  locations: [],\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.FETCH_LOCATIONS_SUCCESS:\n      return {\n        ...state,\n        locations: action.payload.data.locations,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/locationReducer.js","import ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  current: -1,\n  showCurrent: false,\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.MARKER_CLICK:\n      return {\n        ...state,\n        current: action.payload.key,\n        showCurrent: true,\n      };\n\n    case ActionType.MARKER_CLOSE:\n      return {\n        ...state,\n        showCurrent: false,\n      };\n\n    case ActionType.SEARCH:\n      return {\n        ...state,\n        current: -1,\n        showCurrent: false,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/mapReducer.js","/* global window */\nimport ActionType from 'actions/ActionTypes';\nimport url from 'url';\n\nconst defaultState = Object.assign({\n  address: '',\n  radius: '',\n  category: '',\n}, url.parse(window.location.href, true).query);\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.SEARCH:\n      return {\n        ...state,\n        address: action.payload.address,\n        radius: action.payload.radius,\n        category: action.payload.category,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/searchReducer.js","import handlebars from 'handlebars';\nimport ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  loadedSettings: false,\n};\n\n/**\n * The reducer for creating a part in the store for things like radius and categories\n */\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.QUERY_RESULT: {\n      let settings = action.result.data.locatorSettings;\n\n      // skip if no settings attached\n      if (settings === undefined) {\n        return state;\n      }\n\n      // in case its an array\n      if (settings.constructor === Array) {\n        settings = settings[0];\n      }\n\n      // just in case unit is null\n      if (settings.Unit === null) {\n        settings.Unit = 'm';\n      }\n\n      if (settings.Clusters === null) {\n        settings.Clusters = 'false';\n      }\n\n      return {\n        ...state,\n        loadedSettings: true,\n\n        unit: settings.Unit,\n        clusters: settings.Clusters,\n        limit: settings.Limit,\n        radii: JSON.parse(settings.Radii),\n        categories: JSON.parse(settings.Categories),\n        infoWindowTemplate: handlebars.compile(JSON.parse(settings.InfoWindowTemplate)),\n        listTemplate: handlebars.compile(JSON.parse(settings.ListTemplate)),\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/settingsReducer.js"],"sourceRoot":""}